<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>element</title>
    <link rel="stylesheet" href="UI/style.css?v=1.0">
    <link rel="stylesheet" id="themelnk" href="">
</head>
<body style="width: 644px;">
<noscript>Приложение без JavaScript не работает</noscript>
<div class="intro">
 <img src="/static/logo.ico">
 <h1>Element Desktop</h1>
 <p>Загрузка...</p>
</div>
<div class="top-navbar" style="z-index: 10;">
  <center>
    <input placeholder="Поиск" id="searcher">
    <button><img></button>
  </center>
</div>

<br>
<div style="margin-top: 56px;"></div>

<div id="comments" class="CommentsClosed" style="width: 500px;position: fixed; left: 50px; height: 510px; background-color: rgb(25, 25, 25);overflow: auto; transition: 0.3s;z-index: 10;">
  <center>
    <button onclick="document.querySelector('#comments').className = 'CommentsClosed'; document.querySelector('.posts').style.filter = 'none';" style="width: 400px; height: 4px;background-color: rgb(90, 25, 25);cursor: pointer;"></button>
    <input id="commentInput" style="border-top-right-radius: 0;border-bottom-right-radius: 0; height: 40px;width: 390px;position: relative;top: -5px;" placeholder="Введите текст">
    <button onclick="eel.send_comment(postId, document.querySelector('#commentInput').value)(function() {loadComms(); document.querySelector('#commentInput').value = ''})" style="cursor: pointer;border-top-left-radius: 0;border-bottom-left-radius: 0;width: 60px;"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-send-horizontal"><path d="M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z"/><path d="M6 12h16"/></svg></button>
    <hr>
    <div></div>
  </center>
</div>

<div id="settings" class="settingsClosed" style="width: 660px;position: fixed; height: 757px; background-color: rgb(25, 25, 25);overflow: auto; transition: 0.3s;z-index: 10;">
  <center>
    <button onclick="document.querySelector('#settings').className = 'settingsClosed'" style="width: 400px; height: 4px;background-color: rgb(90, 25, 25);cursor: pointer;"></button>
    <img id="cover" onclick="send('cover')" style="height: 150px;width: 480px; border-radius: 10px;position: relative;left: 67.5px;" ondragover="event.preventDefault();" ondrop="uploadCover(event)">
    <img onclick="send('avatar')" id="avatar" style="height: 100px;width: 100px; border-radius: 50%;top: 55px;position: relative;border: 10px solid rgb(25, 25, 25);right: 240px;background-color: rgb(25, 25, 25);" ondragover="event.preventDefault();" ondrop="uploadAvatar(event)">
    <input type="file" id="fileInput" style="display: none;">
    <button id="ChangeUsername" style="width: 625px; margin-right: 20px; top: 50px; position: relative;text-align: left;"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-at-sign"><circle cx="12" cy="12" r="4"/><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8"/></svg> <h2>Сменить имя пользователя</h2> <p>Error</p></button>
    <button id="ChangeMail" style="width: 625px; margin-right: 20px; position: relative;text-align: left;"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg> <h2>Сменить почту</h2> <p>Error</p></button>
    <button id="ChangePassword" style="width: 625px; margin-right: 20px; top: -50px; position: relative;text-align: left;"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-key-round"><path d="M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"/><circle cx="16.5" cy="7.5" r=".5" fill="currentColor"/></svg> <h2>Сменить пароль</h2></button>
    <button id="Sessions" style="width: 625px; margin-right: 20px; top: -70px; position: relative;text-align: left;"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-monitor-smartphone"><path d="M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8"/><path d="M10 19v-3.96 3.15"/><path d="M7 19h5"/><rect width="6" height="10" x="16" y="12" rx="2"/></svg> <h2>Сессии</h2> <p>Error</p></button>
    
    <div style="position: relative; top: -110px;">
      <button style="width: 625px; margin-right: 20px;text-align: left;" onclick="document.querySelector('#settings').querySelector('#customTheme').click(); ">Загрузить свою тему</button>
      <select onchange="change(event)" id="ThemesSelector" style="height: 30px;font-size: 14px;position: relative;left: 180px;top: -40px; border-radius: 10px;">
        <option value="dark">Тёмная default</option>
        <option value="white">Светлая default</option>
      </select>
      <input onchange="loadCustomTheme()" style="display: none;" type="file" id="customTheme">
    </div>
    <button id="offline-mode-btn" onclick="document.querySelector('#settings').querySelector('#offline-mode').classList.toggle('active'); document.querySelector('#settings').querySelector('#offline-mode').classList.toggle('closed');">Оффлайн режим</button>
    <div id="offline-mode" class="closed">
      <button id="saving-music" onclick='eel.setOffline("music-save", false)(function () {chtotoload()})' class="notda">Сохранять музыку</button>
      <button id="saving-last-posts" onclick='eel.setOffline("last-posts-save", false)(function () {chtotoload()})' class="notda">Сохранять последние посты</button>
      <button id="saving-photos" onclick='eel.setOffline("my-profile-save", false)(function () {chtotoload()})' class="notda">Сохранять сессии</button>
      <button id="saving-my-profile" onclick='eel.setOffline("sessions-save", false)(function () {chtotoload()})' class="notda">Сохранять ваш профиль</button>
    </div>
  </center>
</div>

<div id="profile" class="profileClosed" style="width: 500px;position: fixed; left: 50px; height: 745px; background-color: rgb(25, 25, 25);overflow: auto; transition: 0.3s;z-index: 10;">
  <center>
    <button onclick="document.querySelector('#profile').className = 'profileClosed'; document.querySelector('.posts').style.filter = 'none';" style="width: 400px; height: 4px;background-color: rgb(90, 25, 25);cursor: pointer;"></button>
    <img id="cover" style="height: 150px;width: 480px; border-radius: 10px;">
    <img id="avatar" style="height: 100px;width: 100px; border-radius: 50%;top: -50px;position: relative;border: 10px solid rgb(25, 25, 25);">
    <p id="username" style="position: relative;top: -55px;"></p>
    <div id="stats">
      <button style="border-top-right-radius: 0px;border-bottom-right-radius: 0px;position: relative;top: -80px; padding-top: 5px;" id="subscriptions">0 <p style="font-size: 11px;color: gray;margin-top: 3px;">Подписок</p></button>
      <button style="border-radius: 0; position: relative; top: -80px; padding-top: 5px;" id="subscribers">0 <p style="font-size: 11px;color: gray;margin-top: 3px;">Подписчиков</p></button>
      <button style="border-top-left-radius: 0px;border-bottom-left-radius: 0px;padding: 10px;padding-bottom: 15px; position: relative; top: -78px; padding-top: 7px;" id="posts">0<p style="font-size: 11px;color: gray;margin-top: 3px;">Постов</p></button>
    </div>
    <div id="description" style="margin-top: 5px;background-color: rgb(35, 35, 35);border-radius: 10px;width: 430px;text-align: left;padding: 20px;position: relative;top: -70px;"></div>
  </center>
  <div class="UserPosts"style="position: relative; padding-left: 10px; top: -60px;"></div>
</div>

<div id="musicPlayer" style="display: none; top: 130px;left: 60px;height: 70px;width: 500px;z-index: 10;position: fixed;background-color: rgb(25, 25, 25);border-radius: 10px;">
  <audio id="0"></audio>
  <div style="display: flex; align-items: center; gap: 10px; border-radius: 5px;">
    <img src="noMusicCover.jpg" style="width: 50px; height: 50px; border-radius: 5px;margin-top: 10px;margin-left: 10px;margin-bottom: 12px;">
    <div style="display: flex; flex-direction: column; flex-grow: 1;">
      <p style="margin: 0; font-size: 16px;color: rgb(220, 220, 220);">Название - Автор</p>
      <div>
        <input type="range" style="width: 76%; margin-top: 10px;height: 4px;" value="0" onchange="document.querySelector('audio').currentTime = this.value">
        <button onclick='if (document.querySelector("audio").paused) {document.querySelector("audio").play(); this.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pause"><rect x="14" y="4" width="4" height="16" rx="1"/><rect x="6" y="4" width="4" height="16" rx="1"/></svg>`} else {document.querySelector("audio").pause(); this.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play"><polygon points="6 3 20 12 6 21 6 3"/></svg>`}' style="background-color: transparent;border: none;color: white;"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pause"><rect x="14" y="4" width="4" height="16" rx="1"/><rect x="6" y="4" width="4" height="16" rx="1"/></svg></button>
        <button id="like" style="background-color: transparent;border: none;color: white;" onclick="if(this.querySelector('svg').getAttribute('fill') == 'none') {this.querySelector('svg').setAttribute('fill', 'white'); eel.like(document.querySelector('audio').id)()} else {this.querySelector('svg').setAttribute('fill', 'none'); eel.like(document.querySelector('audio').id)()}; get_FAVORITES();"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg></button>
      </div>
    </div>
  </div>
</div>

<div id="music" class="musicClosed" style="width: 500px;position: fixed; left: 50px; height: 600px; background-color: rgb(25, 25, 25);overflow: none;overflow-y: scroll; transition: 0.3s;">
  <center>
    <button onclick="document.querySelector('#music').className = 'musicClosed';document.querySelector('#musicPlayer').style.display = 'none'; document.querySelector('.posts').style.filter = 'none';" style="width: 400px; height: 4px;background-color: rgb(90, 25, 25);cursor: pointer;"></button>
    <h2 style="margin-left: 25px; text-align: left;">Любимые</h2>
    <div id="favorite" style="display: inline-flex;overflow-x: auto;overflow-y: none;width: 480px;"></div>
    <h2 style="margin-left: 25px; text-align: left;">Новые</h2>
    <div id="new" style="display: inline-flex;overflow-x: scroll;overflow-y: none;width: 470px;"></div>
    <h2 style="margin-left: 25px; text-align: left;">Случайные</h2>
    <div id="random" style="display: inline-flex;overflow-x: scroll;overflow-y: none;width: 470px;"></div>
  </center>
</div>

<div id="searcherDIV" class="searchClosed" style="width: 500px; height: 210px; position: fixed; left: 50px; background-color: rgb(25, 25, 25); overflow: auto; transition: 0.3s;">
  <center>
    <!--<button onclick="document.querySelector('#comments').className = 'CommentsClosed'" style="width: 400px; height: 4px;background-color: rgb(90, 25, 25);cursor: pointer;"></button>-->
    <div></div>
  </center>
</div>

<div class="posts" style="overflow-x: none;">
  <div class="Post">
    <textarea maxlength="3400" style="height: 56px; width: 587px;" placeholder="Введите текст"></textarea>
    <div>
      <button onclick="" class="UI-Button comments"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path></svg></button>
      <button onclick="eel.new_post(document.querySelector('textarea').value)(function(){load_posts('upd'); document.querySelector('textarea').value = ''})" class="UI-Button comments">Отправить</button>
    </div>
  </div>
</div>

<h2 style="width: 100%;">Загрузка...</h2>

<script src="/eel.js"></script>
<script src="app.js"></script>
<div style="margin-bottom: 74px;"></div>
<div class="down-navbar" style="z-index: 11;">
  <div style="margin-bottom: 15px;"></div>
  <center>
    <button onclick="window.location.href = '/home.html'">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-house"><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"/><path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></svg>
      <br>
      Главная
    </button>
    <button onclick="window.location.href = '/home.html'">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/></svg>
      <br>
      Месенджер
    </button>
    <button onclick="load_music(); document.querySelector('.posts').style.filter = 'blur(10px)'; document.querySelector('#music').className = 'music';document.querySelector('#musicPlayer').style.display = 'block';">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-list-music"><path d="M21 15V6"/><path d="M18.5 18a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/><path d="M12 12H3"/><path d="M16 6H3"/><path d="M12 18H3"/></svg>
      <br>
      Музыка
    </button>
    <button onclick="document.querySelector('#settings').className = 'settings';">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-settings"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>
      <br>
      Настройки
    </button>
  </center>
</div>

<style id="themeStyle"></style>
</body>
</html>
<!DOCTYPE HTML>
<html>
<head>
    <title>Авторизация - Element Desktop</title>
    <link rel="stylesheet" href="/UI/home.css" />
    <link rel="stylesheet" href="/UI/auth.css" />
</head>
<body>

<div class="authorization">
    <h2>Авторизация</h2>
        <div class="username">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user">
                <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
            </svg>
            <input type="mail" placeholder="Почта" id="mail">
        </div>

        <div class="password">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-key-round">
                <path d="M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"/>
                <circle cx="16.5" cy="7.5" r=".5" fill="currentColor"/>
            </svg>
            <input type="password" placeholder="Пароль" id="password">
        </div>
        <button class="submit" onclick="auth()">Войти</button>
</div>

<script src="/eel.js"></script>
<script>
    var container = document.querySelector(".authorization")
    container.style.marginTop = container.clientHeight + "px"
    function auth() {
      eel.auth(
        document.getElementById('mail').value,
        document.getElementById('password').value
      )(function(response) {
        document.getElementById('password').value = "";
        response = JSON.parse(response);
        if(response.status == "success") {
          window.location.href = response.Location;
        }
      });
    }
</script>
</body>
</html